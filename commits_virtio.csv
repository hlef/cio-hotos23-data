Commit Hash,Commit Date,Commit Message,Commit Class,Known Perf. Loss,Notes
https://github.com/torvalds/linux/commit/020e1aede7ee,"Aug 11, 2022",virtio_pmem: initialize provider_data through nd_region_desc,Timing / Race Hardening & Initialization,,Mentioned by Jason Wang per e-mail
https://github.com/torvalds/linux/commit/5d66322b2b23,"Aug 11, 2022",virtio_pmem: set device ready in probe(),Timing / Race Hardening,,Mentioned by Jason Wang per e-mail
https://github.com/torvalds/linux/commit/ebe797f25f68f28581f46a9cb9c1997ac15c39a0,"Aug 11, 2022",virtio: VIRTIO_HARDEN_NOTIFICATION is broken ,Amend Fix,,"Fully marks ""virtio: harden vring IRQ"" as BROKEN without reverting it. Reason why it doesn't work: the broader ecosystem of drivers doesn't work properly with the redesign."
https://github.com/torvalds/linux/commit/5a159128faff,"Jul 27, 2022",virtio-net: fix the race between refill work and close,Timing / Race Hardening,,Mentioned by Jason Wang per e-mail
https://github.com/torvalds/linux/commit/11a37eb66812,"Jun 27, 2022",caif_virtio: fix race between virtio_device_ready() and ndo_open(),Timing / Race Hardening,,Mentioned by Jason Wang per e-mail
https://github.com/torvalds/linux/commit/50c0ada627f5,"Jun 27, 2022",virtio-net: fix race between ndo_open() and virtio_device_ready(),Timing / Race Hardening,,Mentioned by Jason Wang per e-mail
https://github.com/torvalds/linux/commit/c346dae4f3fbce51bbd4f2ec5e8c6f9b91e93163,"Jun 24, 2022",virtio: disable notification hardening by default ,Amend Fix,,"Disables ""virtio: harden vring IRQ"""
https://github.com/torvalds/linux/commit/a7722890fdfb2aaeb6b02d68bb0f1e411e58d539,"Jun 24, 2022",virtio_ring : keep used_wrap_counter in vq->last_used_idx,Timing / Race Hardening,,
https://github.com/torvalds/linux/commit/8b4ec69d7e098a7ddf832e1e7840de53ed474c77,"May 31, 2022",virtio: harden vring IRQ,Timing / Race Hardening & Redesign,,Rework of MSI-X and INTX broken hardening attempts
https://github.com/torvalds/linux/commit/eb4cecb453a19b34d5454b49532e09e9cb0c1529,"Mar 28, 2022","Revert ""virtio_pci: harden MSI-X interrupts"" ",Amend Fix,,
https://github.com/torvalds/linux/commit/7b79edfb862d6b1ecc66479419ae67a7db2d02e3,"Mar 28, 2022","Revert ""virtio-pci: harden INTX interrupts""",Amend Fix,,
https://github.com/torvalds/linux/commit/30c22f3816ffef8aa21a000e93c4ee1402a6ea65,"Mar 4, 2022",vdpa/mlx5: should verify CTRL_VQ feature exists for MQ,Add checks,,Not strictly a virtio patch but fits in the broader rework
https://github.com/torvalds/linux/commit/ed0f849fc3a63ed2ddf5e72cdb1de3bdbbb0f8eb,"Mar 4, 2022",vdpa/mlx5: add validation for VIRTIO_NET_CTRL_MQ_VQ_PAIRS_SET command,Add checks,,Not strictly a virtio patch but fits in the broader rework
https://github.com/torvalds/linux/commit/fcfb65f8a922c7dd25a2e9913601dae979ce6560,"Nov 25, 2021","Revert ""virtio-net: don't let virtio core to validate used length""",Amend Fix,,"consequence of Revert ""virtio_ring: validate used buffer length"""
https://github.com/torvalds/linux/commit/6318cb887548c70778d10c0fcb7134b4454ab8a6,"Nov 25, 2021","Revert ""virtio-scsi: don't let virtio core to validate used buffer length""",Amend Fix,,"consequence of Revert ""virtio_ring: validate used buffer length"""
https://github.com/torvalds/linux/commit/2b17d9f84884a37f1324be5526c6600e97a47fbe,"Nov 25, 2021","Revert ""virtio-blk: don't let virtio core to validate used length""",Amend Fix,,"consequence of Revert ""virtio_ring: validate used buffer length"""
https://github.com/torvalds/linux/commit/f124034faa911ed534bf8c4881ad98dbbde2a966,"Nov 25, 2021","Revert ""virtio_ring: validate used buffer length""",Amend Fix,,reasons for revert: https://www.spinics.net/lists/kernel/msg4154218.html Hypervisor and devices are not ready for this
https://github.com/torvalds/linux/commit/939779f5152d161b34f612af29e7dc1ac4472fcf,"Nov 1, 2021",virtio_ring: validate used buffer length,Add checks,,"related, but not adding checks: https://github.com/torvalds/linux/commit/c57911ebfbfe745cb95da2bcf547c5bae000590f https://github.com/torvalds/linux/commit/a40392edf1b2c7822bc0ce68413106661a9d4232 https://github.com/torvalds/linux/commit/816625c13652cef5b2c49082d652875da6f2ad7a"
https://github.com/torvalds/linux/commit/080cd7c3ac8701081d143a15ba17dd9475313188,"Nov 1, 2021",virtio-pci: harden INTX interrupts ,Timing / Race Hardening,,
https://github.com/torvalds/linux/commit/9e35276a5344f74d4a3600fc4100b3dd251d5c56,"Nov 1, 2021",virtio_pci: harden MSI-X interrupts,Timing / Race Hardening,,
https://github.com/torvalds/linux/commit/28962ec595d701ec9d39369f9774895dfa408273,"Nov 1, 2021",virtio_console: validate max_nr_ports before trying to use it,Add checks,,
https://github.com/torvalds/linux/commit/6ae6ff6f6e7d2f304a12a53af8298e4f16ad633e,"Nov 1, 2021",virtio-blk: validate num_queues during probe,Add checks,,
https://github.com/torvalds/linux/commit/57a13a5b8157d9a8606490aaa1b805bafe6c37e1,"Oct 27, 2021",virtio-blk: Use blk_validate_block_size() to validate block size,Add checks,,
https://github.com/torvalds/linux/commit/890d33561337ffeba0d8ba42517e71288cfee2b6,"Oct 27, 2021",virtio-ring: fix DMA metadata flags,Amend Fix,,"Fix ""virtio-ring: store DMA metadata in desc_extra for split virtqueue"""
https://github.com/torvalds/linux/commit/2f9a174f918e29608564c7a4e8329893ab604fb4,"Oct 13, 2021",virtio: write back F_VERSION_1 before validate,Amend Fix,,"Fixes ""virtio-blk: Add validation for block size in config space"" and ""virtio_net: clear MTU when out of range"""
https://github.com/torvalds/linux/commit/ff63198850f33eab54b2da6905380fd4d4fc0739,"Oct 13, 2021","Revert ""virtio-blk: Add validation for block size in config space""",Amend Fix,,
https://github.com/torvalds/linux/commit/82e89ea077b93b3c131fa175b0df3acb5b1d5cdf,"Aug 11, 2021",virtio-blk: Add validation for block size in config space,Add checks,,
https://github.com/torvalds/linux/commit/cb5d2c1f6cc0e5769099a7d44b9d08cf58cae206,"Aug 11, 2021",virtio_vdpa: reject invalid vq indices,Add checks,,
https://github.com/torvalds/linux/commit/44593865b7c5f55bf587f297c72d682c671eea2b,"Jul 8, 2021",virtio_ring: secure handling of mapping errors,Redesign,"Yes, 5-10% https://do-db2.lkml.org/lkml/2021/5/5/1670","Use the safe DMA metadata from ""virtio-ring: store DMA metadata in desc_extra for split virtqueue"", seems to be incomplete: https://lkml.org/lkml/2021/11/8/107 (not accepted?)"
https://github.com/torvalds/linux/commit/72b5e8958738aaa453db5149e6ca3bcf416023b9,"Jul 8, 2021",virtio-ring: store DMA metadata in desc_extra for split virtqueue,Redesign,,"DMA metadata used to be stored in device-accessible memory, move it to a safe region, see Jason's message in https://lkml.org/lkml/2021/6/2/1433"
https://github.com/torvalds/linux/commit/d00d8da5869a2608e97cfede094dfc5e11462a46,"Jul 3, 2021",virtio_console: Assure used length from device is limited,Add checks,,
https://github.com/torvalds/linux/commit/5f638e5ac61ef1b9b588efdf688acc0a4cecdca2,"Jun 29, 2021",scsi: virtio_scsi: Add validation for residual bytes from response,Add checks,,
https://github.com/torvalds/linux/commit/ad993a95c508417acdeb15244109e009e50d8758,"Jun 1, 2021",virtio-net: Add validation for used length,Add checks,,
https://github.com/torvalds/linux/commit/924a9bc362a5223cd448ca08c3dde21235adc310,"Mar 10, 2021",net: check if protocol extracted by virtio_net_hdr_set_proto is correct,Add checks,,
https://github.com/torvalds/linux/commit/daf9514fd5eb098d7d6f3a1247cb8cc48fc94155,"Feb 26, 2021",swiotlb: Validate bounce size in the sync/unmap path,Add checks & Redesign,,Not strictly a virtio patch. Note this: https://lkml.org/lkml/2021/1/13/417
https://github.com/torvalds/linux/commit/411ea23a76526e6efed0b601abb603d3c981b333,"Dec 18, 2020",virtio_net: Fix error code in probe(),Add checks,,From the VIA paper
https://github.com/torvalds/linux/commit/c10f07aa27dadf5ab5b3d58c48c91a467f80db49,"Mar 20, 2018",dma/direct: Handle force decryption for DMA coherent buffers in common code,Amend Fix,,"Rework/cleanup of ""x86/mm: Add DMA support for SEV memory encryption"" - should be roughly feature equivalent?"
https://github.com/torvalds/linux/commit/d7b417fa08d1187923c270bc33a3555c2fcff8b9,"Nov 7, 2017",x86/mm: Add DMA support for SEV memory encryption,Add copy (via SWIOTLB?),"Yes, clearly, but not quantified",
https://github.com/torvalds/linux/commit/fe36cbe0671e868cbd2f534a50ac60273fa5acf2,"Apr 7, 2017",virtio_net: clear MTU when out of range,Add checks,,
https://github.com/torvalds/linux/commit/22b7050a024d7deb0c9ef1e14ed73e3b1e369f24,"Oct 15, 2014",virtio: defer config changed notifications,Timing / Race Hardening,,As mentioned in https://github.com/torvalds/linux/commit/8b4ec69d7e098a7ddf832e1e7840de53ed474c77